# CrobotsCS 操作マニュアル

## 概要

CrobotsCは、プログラムで制御されたロボット同士が戦闘するシミュレーションゲームです。  
各ロボットは自動的に移動・砲撃を行い、最後まで生き残ったロボットが勝者となります。

---

## ゲーム画面の説明

### メインウィンドウの構成

1. **バトルフィールド（中央の灰色エリア）**
   - 1000×1000ピクセルのバトルフィールド
   - ロボットと砲弾が表示されます
   - ロボット：色付きの円（各ロボットに固有の色）
   - 砲弾：黒い小さな円

2. **コントロールパネル（下部）**
   - **開始ボタン**：戦闘を開始します
   - **停止ボタン**：戦闘を一時停止します
   - **リセットボタン**：ゲームを初期状態に戻します
   - **ロボット読込ボタン**：新しいロボットをロードします（将来の機能）
   - **速度スライダー**：ゲームの実行速度を調整します（1〜10倍速）

3. **ロボットリスト（右側）**
   - 参戦中のロボット一覧
   - 各ロボットの以下の情報が表示されます：
     - 名前
     - 体力（HP）
     - 位置（X, Y座標）
     - 方向（度数法、0-359度）

4. **ステータス表示（下部）**
   - 現在のサイクル数（ゲーム内の経過時間）
   - ゲームの状態（準備完了、戦闘中など）

---

## 基本操作

### 1. ゲームの開始

1. アプリケーションを起動すると、デフォルトで4体のロボットが配置されます：
   - **Sniper（赤）**：狙撃タイプ
   - **Rook（青）**：直進と射撃を繰り返すタイプ
   - **Rabbit（緑）**：ランダムに動き回るタイプ
   - **Counter（オレンジ）**：後方を警戒するタイプ

2. **開始ボタン**をクリックして戦闘を開始します

3. ロボットは自動的に移動・砲撃を行います

### 2. ゲームの一時停止

- **停止ボタン**をクリックすると、戦闘を一時停止できます
- 再度**開始ボタン**を押すと、戦闘を再開できます

### 3. ゲームのリセット

- **リセットボタン**をクリックすると：
  - 戦闘が停止します
  - すべてのロボットが初期状態に戻ります
  - サイクルカウントがリセットされます
  - デフォルトの4体のロボットが再配置されます

### 4. 速度の調整

- 画面下部の**速度スライダー**で、ゲームの実行速度を調整できます
- スライダーを右に動かすと、ゲームが速く進行します
- スライダーを左に動かすと、ゲームがゆっくり進行します

---

## ゲームルール

### 勝利条件

- 最後まで生き残った1体のロボットが勝者となります
- ロボットの体力（HP）が0になると破壊されます

### バトルフィールド

- サイズ：1000×1000ピクセル
- ロボットはフィールドの境界を越えることができません
- 境界に到達すると、その位置に制限されます

### ロボットの能力

#### 体力（HP）
- 初期体力：100
- 砲弾の被弾ごとに10ダメージを受けます
- 体力が0になると破壊されます

#### 移動
- 最大速度：5.0ピクセル/サイクル
- 加速・減速は1サイクルあたり0.5ずつ
- 方向転換は1サイクルあたり最大5度

#### 砲塔
- 砲塔の回転速度：1サイクルあたり最大10度
- 砲塔は車体とは独立して回転できます

#### 砲撃
- 砲弾の射程：700ピクセル
- 砲弾のダメージ：10
- 砲弾はフィールドの境界を越えると消滅します

#### スキャン
- スキャン範囲：700ピクセル
- 指定した方向と解像度で敵ロボットを探知できます

---

## デフォルトロボットの特徴

### Sniper（赤）
- 戦略：狙撃型
- 行動：前方に向かって進みながら、時々ランダムに方向を微調整
- 砲撃：30%の確率で前方に砲撃

### Rook（青）
- 戦略：攻撃的
- 行動：直進し、壁に近づくと90度旋回
- 砲撃：ランダムな方向に常に砲撃

### Rabbit（緑）
- 戦略：機動型
- 行動：ランダムな方向に高速移動
- 砲撃：20%の確率で前方に砲撃

### Counter（オレンジ）
- 戦略：防御型
- 行動：ゆっくり回転しながら移動
- 砲撃：後方をスキャンし、後方に砲撃

---

## ロボットプログラミング API

各ロボットは以下のAPIを使用してプログラムできます：

### 移動命令
```csharp
api.Drive(heading, speed)
```
- `heading`：目標方向（度数法、0-359）
- `speed`：目標速度（0-5）

### スキャン命令
```csharp
int distance = api.Scan(direction, resolution)
```
- `direction`：スキャン方向（度数法、0-359）
- `resolution`：スキャン解像度（度）
- 戻り値：検出された敵までの距離（ピクセル）、未検出の場合は0

### 砲撃命令
```csharp
bool success = api.Cannon(direction, range)
```
- `direction`：砲撃方向（度数法、0-359）
- `range`：射程（最大700ピクセル）
- 戻り値：砲撃が成功したかどうか

### ロボット情報取得
- `api.X`：現在のX座標
- `api.Y`：現在のY座標
- `api.Heading`：現在の方向（度）
- `api.Speed`：現在の速度
- `api.Health`：現在の体力

### ユーティリティ
```csharp
int random = api.Random(max)
```
- `max`：ランダム値の最大値（0 から max-1 の範囲）
- 戻り値：ランダムな整数

---

## トラブルシューティング

### ゲームが開始できない
- **原因**：ロボットが2体未満の場合、ゲームを開始できません
- **解決策**：最低2体のロボットが必要です

### ロボットがフィールドの端で動かなくなる
- **原因**：ロボットはフィールドの境界を越えることができません
- **動作**：これは正常な動作です。ロボットは方向を変える必要があります

### すべてのロボットが破壊された
- **対処**：リセットボタンをクリックして、ゲームを再開してください

---

## 今後の拡張機能

- カスタムロボットのスクリプト読み込み機能
- ロボットの追加・削除機能
- リプレイ機能
- 統計情報の表示

---

## システム要件

- **OS**：Windows 10以降
- **フレームワーク**：.NET 10
- **UI**：WPF（Windows Presentation Foundation）

---

## お問い合わせ

本ゲームに関するご質問やフィードバックは、GitHubリポジトリまでお願いします：
https://github.com/TAMAKA6192/CrobotsCS

---

**楽しいロボットバトルを！**
